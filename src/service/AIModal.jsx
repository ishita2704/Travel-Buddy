import { GoogleGenerativeAI } from "@google/generative-ai";


const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
  model: "gemini-1.5-flash",
});

const generationConfig = {
  temperature: 1,
  topP: 0.95,
  topK: 40,
  maxOutputTokens: 8192,
  responseMimeType: "application/json",
};

export const chatSession = model.startChat({
  generationConfig,
  history: [
    {
      role: "user",
      parts: [
        {
          text: 'Generate a Travel Plan for Las Vegas, for 3 days for a couple with a cheap budget.\n\nGive me a list of hotel options with:\n\nHotel Name\n\nHotel Address\n\nPrice\n\nHotel Image URL\n\nGeo Coordinates\n\nRating\n\nDescription\n\nSuggest an itinerary for 3 days with each day\'s plan including:\n\nPlace Name\n\nPlace Details\n\nPlace Image URL\n\nGeo Coordinates\n\nTicket Pricing\n\nBest Time to Visit (specific time like "9:00 AM - 11:00 AM")\n\nTime Needed at Location (like "2 hours")\n\nTravel Time to Next Location\n\nTotal Day\'s Time Breakdown\n\nReturn the result in JSON format.',
        },
      ],
    },
    {
      role: "model",
      parts: [
        {
          text: '```json\n{\n  "hotelOptions": [\n    {\n      "hotelName": "Circus Circus Hotel & Casino",\n      "hotelAddress": "2880 S Las Vegas Blvd, Las Vegas, NV 89109",\n      "price": "$$$ (Budget-friendly, prices vary greatly depending on season and booking time)",\n      "hotelImageURL": "https://upload.wikimedia.org/wikipedia/commons/thumb/1/16/CircusCircusLasVegas.jpg/1280px-CircusCircusLasVegas.jpg",\n      "geoCoordinates": {\n        "latitude": 36.1215,\n        "longitude": -115.1739\n      },\n      "rating": "3.5 stars (Average)",\n      "description": "A classic Vegas hotel with a circus theme, offering affordable rooms and family-friendly entertainment.  Expect some noise and older facilities."\n    },\n    {\n      "hotelName": "The D Las Vegas",\n      "hotelAddress": "300 Fremont Street, Las Vegas, NV 89101",\n      "price": "$$ (Budget-friendly, often cheaper than Strip hotels)",\n      "hotelImageURL": "https://upload.wikimedia.org/wikipedia/commons/thumb/d/d4/The_D_Las_Vegas_exterior.jpg/1280px-The_D_Las_Vegas_exterior.jpg",\n      "geoCoordinates": {\n        "latitude": 36.1673,\n        "longitude": -115.1415\n      },\n      "rating": "4 stars (Good)",\n      "description": "Downtown location, known for its retro vibe and more affordable prices compared to the Strip. Offers a good value for money."\n    },\n    {\n      "hotelName": "Main Street Station Casino, Brewery & Hotel",\n      "hotelAddress": "200 S. Main Street, Las Vegas, NV 89101",\n      "price": "$$ (Budget-friendly)",\n      "hotelImageURL": "https://upload.wikimedia.org/wikipedia/commons/thumb/7/7a/Main_Street_Station_Casino_Hotel_Las_Vegas.jpg/1280px-Main_Street_Station_Casino_Hotel_Las_Vegas.jpg",\n      "geoCoordinates": {\n        "latitude": 36.1669,\n        "longitude": -115.1401\n      },\n      "rating": "3.8 stars (Good)",\n      "description": "Historic hotel in Downtown Las Vegas, offering affordable rates and a unique experience.  Great location for exploring Fremont Street Experience."\n    }\n  ],\n  "itinerary": {\n    "day1": {\n      "plan": [\n        {\n          "placeName": "Fremont Street Experience",\n          "placeDetails": "A pedestrian mall with a massive video canopy, street performers, and casinos.",\n          "placeImageURL": "https://www.travelandleisure.com/thmb/hN0_o90d4m02d5tI7xG8YcQ-338=/1500x1000/filters:no_upscale():max_bytes(150000):strip_icc()/las-vegas-fremont-street-experience-4a0a3543a19c40d484b28e6a49f5e6f0.jpg",\n          "geoCoordinates": {\n            "latitude": 36.167,\n            "longitude": -115.142\n          },\n          "ticketPricing": "Free",\n          "bestTimeToVisit": "7:00 PM - 10:00 PM (Evening light show)",\n          "timeNeededAtLocation": "3 hours"\n        },\n        {\n          "placeName": "Container Park",\n          "placeDetails": "Unique shopping and dining area made from repurposed shipping containers.",\n          "placeImageURL": "https://www.visitlasvegas.com/sites/default/files/styles/article_main_image/public/2019-08/container-park-las-vegas.jpg?itok=E_04o-bU",\n          "geoCoordinates": {\n            "latitude": 36.169,\n            "longitude": -115.137\n          },\n          "ticketPricing": "Free (Shopping and dining costs extra)",\n          "bestTimeToVisit": "6:00 PM - 8:00 PM (Relaxed atmosphere)",\n          "timeNeededAtLocation": "2 hours"\n        }\n      ],\n      "travelTimeBetweenLocations": "10 minutes walk",\n      "totalDaysTimeBreakdown": "5 hours (plus travel time)"\n    },\n    "day2": {\n      "plan": [\n        {\n          "placeName": "Strip Walk (South to North)",\n          "placeDetails": "Walk the length of the Las Vegas Strip, admiring the iconic hotels and casinos.",\n          "placeImageURL": "https://www.visitlasvegas.com/sites/default/files/styles/article_main_image/public/2023-03/las-vegas-strip-night.jpg?itok=5V6gV-oY",\n          "geoCoordinates": {\n            "latitude": 36.11,\n            "longitude": -115.17\n          },\n          "ticketPricing": "Free",\n          "bestTimeToVisit": "9:00 AM - 12:00 PM (Avoid midday heat)",\n          "timeNeededAtLocation": "3 hours"\n        },\n        {\n          "placeName": "Bellagio Fountains",\n          "placeDetails": "Free water show choreographed to music.",\n          "placeImageURL": "https://upload.wikimedia.org/wikipedia/commons/thumb/0/07/Bellagio_Fountains_show.jpg/1280px-Bellagio_Fountains_show.jpg",\n          "geoCoordinates": {\n            "latitude": 36.1146,\n            "longitude": -115.1729\n          },\n          "ticketPricing": "Free",\n          "bestTimeToVisit": "6:00 PM - 7:00 PM (Evening show)",\n          "timeNeededAtLocation": "1 hour"\n        }\n      ],\n      "travelTimeBetweenLocations": "Variable, depending on walking pace. Can use the monorail or buses for faster travel.",\n      "totalDaysTimeBreakdown": "4 hours (plus travel time)"\n    },\n    "day3": {\n      "plan": [\n        {\n          "placeName": "Seven Magic Mountains",\n          "placeDetails": "Public art installation south of Las Vegas.",\n          "placeImageURL": "https://upload.wikimedia.org/wikipedia/commons/thumb/0/00/Seven_Magic_Mountains_2016.jpg/1280px-Seven_Magic_Mountains_2016.jpg",\n          "geoCoordinates": {\n            "latitude": 36.0117,\n            "longitude": -114.9833\n          },\n          "ticketPricing": "Free",\n          "bestTimeToVisit": "10:00 AM - 12:00 PM (Good lighting)",\n          "timeNeededAtLocation": "1.5 hours"\n        },\n        {\n          "placeName": "Neon Museum",\n          "placeDetails": "Museum of vintage Las Vegas signs.",\n          "placeImageURL": "https://upload.wikimedia.org/wikipedia/commons/thumb/1/13/Neon_Museum_Boneyard.jpg/1280px-Neon_Museum_Boneyard.jpg",\n          "geoCoordinates": {\n            "latitude": 36.1709,\n            "longitude": -115.1418\n          },\n          "ticketPricing": "$$$ (Check online for prices)",\n          "bestTimeToVisit": "2:00 PM - 4:00 PM",\n          "timeNeededAtLocation": "2 hours"\n        }\n      ],\n      "travelTimeBetweenLocations": "30-45 minutes by car or rideshare to Seven Magic Mountains; then roughly 30 minutes drive back to the Neon Museum (or longer depending on traffic).",\n      "totalDaysTimeBreakdown": "5.5 hours (plus travel time)"\n    }\n  }\n}\n```\n\n**Note:** Prices are denoted as:  `$` (cheap), `$$` (moderate), `$$$` (more expensive).  Actual prices will vary depending on the season and availability.  Remember to check for current prices and book accommodations and tours in advance, especially during peak season.  Transportation costs (rideshares, buses, etc.) are not included in the pricing but are important factors for budget travelers.  The image URLs provided are examples and may not always reflect the exact current appearance. You may need to search for updated images.\n',
        },
      ],
    },
  ],
});
